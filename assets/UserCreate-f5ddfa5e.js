import{k as c,l as b,m,n as f,o as k,r as n,j as r}from"./index-5babc427.js";import{B as h}from"./Breadcrumb-9e62b127.js";import{G as w,R as t,L as y}from"./enums-723139f8.js";const g=c("driverRegister",async a=>{try{return await b.post("/driver/register",a)}catch(s){throw new m(s.response)}}),j=c("newAdmi",async a=>{try{return await b.post("/admin/new-admin",a)}catch(s){throw new m(s.response)}});function A(){const{register:a,handleSubmit:s,watch:o,formState:{errors:l}}=f({mode:"onTouched"}),i=k(),p=e=>{e.role==t.Driver?i(g(e)):i(j(e))},[d,u]=n.useState();return n.useEffect(()=>{const e=o(x=>u(x));return()=>e.unsubscribe()},[o]),r.jsxs(r.Fragment,{children:[r.jsx(h,{pageName:"Create new user"}),r.jsx("div",{className:"grid",children:r.jsx("div",{className:"flex flex-col gap-9",children:r.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[r.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:r.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Add user form"})}),r.jsx("form",{onSubmit:s(p),children:r.jsxs("div",{className:"p-6.5",children:[r.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"First name"}),r.jsx("input",{type:"text",...a("firstName",{required:!1}),placeholder:"Enter your first name",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Last name"}),r.jsx("input",{type:"text",...a("lastName",{required:!0}),placeholder:"Enter your last name",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Email"}),r.jsx("input",{type:"email",...a("email",{required:!1,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid e-mail address"}}),placeholder:"Enter your email",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Phone"}),r.jsx("input",{type:"tel",...a("phoneNumber",{required:!1}),placeholder:"Enter your phoneNumber",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Gender"}),r.jsx("select",{...a("gender"),className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:Object.values(w).map(e=>{if(typeof e=="string")return r.jsx("option",{value:e,children:e})})})]}),r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Role"}),r.jsx("select",{...a("role"),className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:Object.values(t).map(e=>{if(typeof e=="string")return r.jsx("option",{value:e,children:e})})})]})]}),r.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"mb-4.5  xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Avatar"}),r.jsx("input",{type:"file",...a("avatar",{required:!1}),placeholder:"Choice an avatar",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Age"}),r.jsx("input",{type:"number",...a("age",{required:!1,min:10,max:120}),placeholder:"Enter a age",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),(d==null?void 0:d.role)==t.Driver&&r.jsxs("div",{className:" flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"mb-4.5 w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Sponsor Code"}),r.jsx("input",{type:"text",...a("sponsorCode",{required:!1}),placeholder:"Enter your Sponsor Code",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r.jsxs("div",{className:"mb-4.5  xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Informations vÃ©hicule"}),r.jsx("input",{type:"file",...a("carInfos",{required:!1}),placeholder:"Choice a File",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Password"}),r.jsx("input",{type:"password",...a("password",{required:!1}),placeholder:"Enter your Password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Confirm Password"}),r.jsx("input",{type:"password",...a("cpassword",{required:!1,validate:e=>e===o("password")||"The passwords do not match"}),placeholder:"Enter your Password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),l.cpassword&&r.jsx("p",{children:l.cpassword.message})]}),r.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:r.jsxs("div",{className:"w-full xl:w-1/2",children:[r.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Langue"}),r.jsx("select",{...a("lang"),className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:Object.values(y).map(e=>{if(typeof e=="string")return r.jsx("option",{value:e,children:e})})})]})}),r.jsx("button",{type:"submit",className:"flex justify-center rounded bg-primary p-3 font-medium text-gray float-right",style:{margin:"10px"},children:"Enregistrer"})]})})]})})})]})}export{A as default};
